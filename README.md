# Welcome
This project is based off [How to Deploy Express on Now.sh](https://dev.to/warenix/how-to-deploy-express-on-nowsh-414i).

## Notes
First, you'll want to download the Now CLI tool at [https://zeit.co/download](https://zeit.co/download).

Once the basic project is in place, let's create a secret on Zeit Now that will store the `VERSION` environment variable our sample `/get` endpoint is expecting:
```
$ now secret add VERSION "0.1"
```

Spin up a local server and let's verify our server functions as expected:
```
$ npm start
$ curl http://localhost:3000/get
  // {"version":"1.0"}
$ curl -H "Content-Type: application/json" -d '{"message":"hello"}' http://localhost:3000/post
  // {"message":"hello"}
```

Now let's deploy our application to [Zeit Now](https://zeit.co).

Next you will want to adjust the `now.json` file:
+ Modify `"alias": "express-zeit-now-v2.now.sh",` to be something like `"alias": "my-zeit-now-v2-api.now.sh",`

Once that is complete, you can run `npm run deploy` (defined in `package.json`) which will run two commands:
+ `now` - This deploys the server to Zeit Now
+ `now alias` - This takes the autogenerated instance name (`express-zeit-now-v2-6vuq6jzj8.now.sh`) and assigns it to the alias you defined (`my-zeit-now-v2-api.now.sh` in the above example).

et's verify our server functions as expected by posting to the alias we defined (`my-zeit-now-v2-api.now.sh` in the above example):
```
$ npm start
$ curl https://express-zeit-now-v2.now.sh/get
  // {"version":"1.0"}
$ curl -H "Content-Type: application/json" -d '{"message":"hello"}' https://express-zeit-now-v2.now.sh/post
  // {"message":"hello"}
```
